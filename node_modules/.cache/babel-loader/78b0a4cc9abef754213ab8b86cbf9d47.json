{"ast":null,"code":"var _jsxFileName = \"/Users/hbin/Desktop/react/reactActual/admin/src/Pages/Login.js\";\nimport React, { useState } from 'react';\nimport 'antd/dist/antd.css';\nimport { Card, Input, Icon, Button, Spin, message } from 'antd';\nimport '../static/css/Login.css';\nimport servicePath from '../config/apiUrl';\nimport axios from 'axios';\n\nfunction Login(props) {\n  const [userName, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const checkLogin = () => {\n    setIsLoading(true);\n\n    if (!userName) {\n      message.error('用户名不能为空');\n      return false;\n    } else if (!password) {\n      message.error('密码不能为空');\n      return false;\n    } // axios.post(servicePath.login+'?userName='+userName+'&passWord='+password).then(\n    //     res=>{\n    //         setIsLoading(false)\n    //         console.log(res)\n    //     }\n    // )\n\n\n    axios({\n      method: 'POST',\n      url: servicePath.login + '?userName=' + userName + '&passWord=' + password,\n      withCredentials: true\n    }).then(res => {\n      setIsLoading(false);\n\n      if (res.data.status == 200) {\n        props.history.push('/index');\n      }\n    });\n    setTimeout(() => {\n      setIsLoading(false);\n    }, 1);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"login-div\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(Spin, {\n    tip: \"Loading...\",\n    spinning: isLoading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Card, {\n    title: \"blog Syatem\",\n    bordered: true,\n    style: {\n      width: 400\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Input, {\n    id: \"userName\",\n    size: \"large\",\n    placeholder: \"Enter your userName\",\n    prefix: React.createElement(Icon, {\n      type: \"user\",\n      style: {\n        color: 'rgba(0,0,0,.25)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }),\n    onChange: e => {\n      setUserName(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(Input.Password, {\n    id: \"password\",\n    size: \"large\",\n    placeholder: \"Enter your password\",\n    prefix: React.createElement(Icon, {\n      type: \"key\",\n      style: {\n        color: 'rgba(0,0,0,.25)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }),\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"primary\",\n    size: \"large\",\n    block: true,\n    onClick: checkLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \" Login in \"))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/hbin/Desktop/react/reactActual/admin/src/Pages/Login.js"],"names":["React","useState","Card","Input","Icon","Button","Spin","message","servicePath","axios","Login","props","userName","setUserName","password","setPassword","isLoading","setIsLoading","checkLogin","error","method","url","login","withCredentials","then","res","data","status","history","push","setTimeout","width","color","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport 'antd/dist/antd.css';\nimport { Card, Input, Icon,Button ,Spin , message} from 'antd';\nimport '../static/css/Login.css'\nimport servicePath from '../config/apiUrl'\nimport axios from 'axios'\n\nfunction Login(props){\n\n    const [userName , setUserName] = useState('')\n    const [password , setPassword] = useState('')\n    const [isLoading, setIsLoading] = useState(false)\n\n    const checkLogin = ()=>{\n        setIsLoading(true)\n        if(!userName){\n            message.error('用户名不能为空')\n            return false\n        }else if(!password){\n            message.error('密码不能为空')\n            return false\n        }\n        // axios.post(servicePath.login+'?userName='+userName+'&passWord='+password).then(\n        //     res=>{\n        //         setIsLoading(false)\n        //         console.log(res)\n        //     }\n        // )\n        axios({\n            method:'POST',\n            url:servicePath.login+'?userName='+userName+'&passWord='+password,\n            withCredentials:true\n        }).then(\n            res=>{\n                setIsLoading(false)\n                if(res.data.status==200){\n                    props.history.push('/index')\n                }\n            }\n        )\n        \n\n        setTimeout(()=>{\n            setIsLoading(false)\n        },1)\n    }\n\n    return (\n        <div className=\"login-div\">\n            <Spin tip=\"Loading...\" spinning={isLoading}>\n                <Card title=\"blog Syatem\" bordered={true} style={{ width: 400 }}>\n                    <Input\n                        id=\"userName\"\n                        size=\"large\"\n                        placeholder=\"Enter your userName\"\n                        prefix={<Icon type=\"user\" style={{color:'rgba(0,0,0,.25)'}} />}\n                        onChange={(e)=>{setUserName(e.target.value)}}\n                    /> \n                     <br/><br/>\n                    <Input.Password\n                        id=\"password\"\n                        size=\"large\"\n                        placeholder=\"Enter your password\"\n                        prefix={<Icon type=\"key\" style={{color:'rgba(0,0,0,.25)'}} />}\n                        onChange={(e)=>{setPassword(e.target.value)}}\n                    />     \n                    <br/><br/>\n                    <Button type=\"primary\" size=\"large\" block onClick={checkLogin} > Login in </Button>\n                </Card>\n            </Spin>\n        </div>\n    )\n\n    \n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}